#!/usr/bin/env node

var CLI = require('./../lib/cli')
  , pkg = require('./../package.json')
  , ArgParse = require('argparse').ArgumentParser;

/*
 * Create argument parser.
 */

var parser = new ArgParse({
  version: pkg.version,
  description: pkg.description,
  addHelp: true
});

/*
 * Create argument subparser.
 */

var subParser = parser.addSubparsers({
  title: 'children',
  dest: 'action'
});

/*
 * $ sprout add
 */

var add = subParser.addParser('add', { addHelp: true });
add.addArgument(['name'], { help: 'name of template' });
add.addArgument(['src'], { help: 'source path or remote git' });

/*
 * $ sprout remove
 */

var remove = subParser.addParser('remove', { addHelp: true });
remove.addArgument(['name'], { help: 'name of template' });

/*
 * $ sprout list
 */

var list = subParser.addParser('list', { addHelp: false });

/*
 * $ sprout init
 */

var init = subParser.addParser('init', { addHelp: true });
init.addArgument(['name'], { help: 'name of template' });
init.addArgument(['target'], { help: 'destination path' });
init.addArgument(['-l', '--locals'], { help: 'locals' });

/*
 * Run CLI with arguments.
 */

var cli = new CLI();
cli.run(parser.parseArgs());
